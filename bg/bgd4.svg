<svg id="waterfall-background" xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid slice"
     style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1; pointer-events:none;">

  <defs>
    <!-- Waterfall gradient -->
    <linearGradient id="water-main" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ff8844"/>
      <stop offset="30%" stop-color="#ff5522"/>
      <stop offset="70%" stop-color="#dd2200"/>
      <stop offset="100%" stop-color="#aa0000"/>
    </linearGradient>

    <!-- Animated flow -->
    <linearGradient id="flow-line" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffbb88" stop-opacity="0">
        <animate attributeName="offset" values="-0.3;1" dur="1.2s" repeatCount="indefinite"/>
      </stop>
      <stop offset="50%" stop-color="#ff8844" stop-opacity="1">
        <animate attributeName="offset" values="0;1.3" dur="1.2s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" stop-color="#ff5522" stop-opacity="0">
        <animate attributeName="offset" values="0.3;1.6" dur="1.2s" repeatCount="indefinite"/>
      </stop>
    </linearGradient>

    <!-- Moon glow -->
    <filter id="glow" x="-100%" y="-100%" width="300%" height="300%">
      <feGaussianBlur stdDeviation="20" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Waterfall bottom blur -->
    <filter id="waterfall-blur">
      <feGaussianBlur stdDeviation="8" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Splash -->
    <radialGradient id="splash" cx="50%" cy="30%">
      <stop offset="0%" stop-color="#ffaa66" stop-opacity="0.9"/>
      <stop offset="50%" stop-color="#ff6633" stop-opacity="0.5"/>
      <stop offset="100%" stop-color="#cc2200" stop-opacity="0"/>
    </radialGradient>

    <!-- Shooting star gradient -->
    <linearGradient id="shooting-star-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#ffcc88" stop-opacity="0"/>
      <stop offset="30%" stop-color="#ff9944" stop-opacity="0.8"/>
      <stop offset="100%" stop-color="#ffdd99" stop-opacity="1"/>
    </linearGradient>
  </defs>

  <!-- Black background -->
  <rect width="100%" height="100%" fill="#000"/>

  <!-- Stars -->
  <g id="stars"></g>

  <!-- Shooting stars group -->
  <g id="shooting-stars"></g>

  <!-- Moon -->
  <circle cx="1700" cy="150" r="65" fill="#ff8822" filter="url(#glow)">
    <animate attributeName="opacity" values="0.9;1;0.9" dur="6s" repeatCount="indefinite"/>
  </circle>

  <!-- Left Mountain - tall jagged rock with flat top -->
  <path d="M 0,1080 L 0,800 
           L 50,750 L 80,780 L 120,700 L 160,730 L 200,650 
           L 250,680 L 290,600 L 340,640 L 380,550 
           L 430,590 L 480,500 L 530,520 L 580,480 
           L 630,470 L 680,460 L 730,455 L 780,450 
           L 830,450 L 880,450 L 920,450 L 960,450 
           L 960,1080 Z"
        fill="#1a1410" stroke="#000" stroke-width="3"/>

  <!-- Right Mountain - tall jagged rock with flat top -->
  <path d="M 960,450 L 1000,450 L 1040,450 L 1090,450 L 1140,450 
           L 1190,455 L 1240,460 L 1290,470 L 1340,480 
           L 1390,520 L 1440,500 L 1490,590 L 1540,550 
           L 1590,640 L 1640,600 L 1690,680 L 1740,650 
           L 1780,730 L 1820,700 L 1860,780 L 1900,750 
           L 1920,800 L 1920,1080 L 960,1080 Z"
        fill="#1a1410" stroke="#000" stroke-width="3"/>

  <!-- Main waterfall streams -->
  <g id="waterfall">
    <!-- Center stream -->
    <path d="M 870,450 Q 865,550 870,650 Q 868,750 872,850 L 872,1000 L 1048,1000 L 1048,850 Q 1052,750 1050,650 Q 1055,550 1050,450 Z"
          fill="url(#water-main)" opacity="0.95"/>
    
    <!-- Left stream -->
    <path d="M 830,455 Q 828,560 832,665 Q 830,770 834,880 L 834,1000 L 868,1000 L 868,880 Q 872,770 870,665 Q 874,560 870,455 Z"
          fill="url(#water-main)" opacity="0.85"/>
    
    <!-- Right stream -->
    <path d="M 1050,455 Q 1046,560 1050,665 Q 1048,770 1052,880 L 1052,1000 L 1086,1000 L 1086,880 Q 1090,770 1088,665 Q 1092,560 1088,455 Z"
          fill="url(#water-main)" opacity="0.85"/>

    <!-- Flow lines (anime style) -->
    <rect x="845" y="450" width="15" height="550" fill="url(#flow-line)" opacity="0.85"/>
    <rect x="880" y="450" width="18" height="550" fill="url(#flow-line)" opacity="0.9"/>
    <rect x="920" y="450" width="20" height="550" fill="url(#flow-line)" opacity="0.95"/>
    <rect x="955" y="450" width="22" height="550" fill="url(#flow-line)" opacity="1">
      <animate attributeName="opacity" values="1;0.7;1" dur="1.2s" repeatCount="indefinite"/>
    </rect>
    <rect x="990" y="450" width="20" height="550" fill="url(#flow-line)" opacity="0.95"/>
    <rect x="1025" y="450" width="18" height="550" fill="url(#flow-line)" opacity="0.9"/>
    <rect x="1060" y="450" width="15" height="550" fill="url(#flow-line)" opacity="0.85"/>
    
    <!-- Side splashes -->
    <rect x="835" y="450" width="10" height="550" fill="url(#flow-line)" opacity="0.6"/>
    <rect x="1075" y="450" width="10" height="550" fill="url(#flow-line)" opacity="0.6"/>

    <!-- Bottom splash pool -->
    <ellipse cx="960" cy="1000" rx="110" ry="40" fill="url(#splash)" filter="url(#waterfall-blur)">
      <animate attributeName="rx" values="110;140;110" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="ry" values="40;50;40" dur="2s" repeatCount="indefinite"/>
    </ellipse>
    
    <ellipse cx="960" cy="1010" rx="90" ry="25" fill="#ff7733" opacity="0.7" filter="url(#waterfall-blur)">
      <animate attributeName="rx" values="90;115;90" dur="1.8s" repeatCount="indefinite"/>
    </ellipse>

    <!-- Blur mask for bottom of waterfall streams -->
    <rect x="830" y="900" width="256" height="100" fill="url(#splash)" opacity="0.4" filter="url(#waterfall-blur)"/>

    <!-- Mist particles -->
    <g id="mist">
      <circle cx="900" cy="980" r="3" fill="#ffaa66" opacity="0.6">
        <animate attributeName="cy" values="980;920;980" dur="3s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.6;0;0.6" dur="3s" repeatCount="indefinite"/>
      </circle>
      <circle cx="1020" cy="990" r="2.5" fill="#ff9955" opacity="0.5">
        <animate attributeName="cy" values="990;930;990" dur="3.5s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.5;0;0.5" dur="3.5s" repeatCount="indefinite"/>
      </circle>
      <circle cx="940" cy="985" r="2" fill="#ffbb77" opacity="0.7">
        <animate attributeName="cy" values="985;915;985" dur="4s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.7;0;0.7" dur="4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="980" cy="995" r="2" fill="#ff8844" opacity="0.5">
        <animate attributeName="cy" values="995;935;995" dur="3.8s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.5;0;0.5" dur="3.8s" repeatCount="indefinite"/>
      </circle>
    </g>
  </g>

  <!-- Small left waterfall -->
  <g id="left-small-waterfall">
    <path d="M 640,650 Q 638,750 640,850 L 640,1000 L 670,1000 L 670,850 Q 672,750 670,650 Z"
          fill="url(#water-main)" opacity="0.85"/>
    <rect x="645" y="650" width="10" height="350" fill="url(#flow-line)" opacity="0.75">
      <animate attributeName="y" values="650;1000" dur="2s" repeatCount="indefinite"/>
    </rect>
    <rect x="658" y="650" width="7" height="350" fill="url(#flow-line)" opacity="0.65">
      <animate attributeName="y" values="650;1000" dur="2.3s" repeatCount="indefinite"/>
    </rect>
    <ellipse cx="655" cy="1000" rx="40" ry="18" fill="url(#splash)" opacity="0.7" filter="url(#waterfall-blur)">
      <animate attributeName="rx" values="40;50;40" dur="2s" repeatCount="indefinite"/>
    </ellipse>
  </g>

  <!-- Small right waterfall -->
  <g id="right-small-waterfall">
    <path d="M 1250,650 Q 1248,750 1250,850 L 1250,1000 L 1280,1000 L 1280,850 Q 1282,750 1280,650 Z"
          fill="url(#water-main)" opacity="0.85"/>
    <rect x="1255" y="650" width="10" height="350" fill="url(#flow-line)" opacity="0.75">
      <animate attributeName="y" values="650;1000" dur="2s" repeatCount="indefinite"/>
    </rect>
    <rect x="1268" y="650" width="7" height="350" fill="url(#flow-line)" opacity="0.65">
      <animate attributeName="y" values="650;1000" dur="2.3s" repeatCount="indefinite"/>
    </rect>
    <ellipse cx="1265" cy="1000" rx="40" ry="18" fill="url(#splash)" opacity="0.7" filter="url(#waterfall-blur)">
      <animate attributeName="rx" values="40;50;40" dur="2s" repeatCount="indefinite"/>
    </ellipse>
  </g>

  <!-- Trees at bottom (night time silhouettes) -->
  <g id="trees">
    <!-- Left side trees -->
    <path d="M 100,1080 L 120,950 L 100,960 L 120,900 L 100,910 L 130,820 L 150,900 L 140,910 L 160,950 L 140,960 L 160,1080 Z" 
          fill="#0d0d0d" opacity="0.9"/>
    <path d="M 250,1080 L 270,980 L 255,990 L 275,930 L 260,940 L 290,860 L 310,940 L 295,950 L 315,1000 L 300,1010 L 320,1080 Z" 
          fill="#0d0d0d" opacity="0.85"/>
    <path d="M 400,1080 L 415,1000 L 405,1010 L 420,960 L 410,970 L 435,900 L 450,970 L 440,980 L 455,1020 L 445,1030 L 465,1080 Z" 
          fill="#0d0d0d" opacity="0.9"/>
    <path d="M 550,1080 L 565,1010 L 555,1020 L 570,970 L 560,980 L 580,920 L 595,980 L 585,990 L 600,1030 L 590,1040 L 610,1080 Z" 
          fill="#0d0d0d" opacity="0.88"/>
    
    <!-- Right side trees -->
    <path d="M 1310,1080 L 1325,1010 L 1315,1020 L 1330,970 L 1320,980 L 1340,920 L 1355,980 L 1345,990 L 1360,1030 L 1350,1040 L 1370,1080 Z" 
          fill="#0d0d0d" opacity="0.88"/>
    <path d="M 1460,1080 L 1475,1000 L 1465,1010 L 1480,960 L 1470,970 L 1490,900 L 1505,970 L 1495,980 L 1510,1020 L 1500,1030 L 1520,1080 Z" 
          fill="#0d0d0d" opacity="0.9"/>
    <path d="M 1620,1080 L 1640,980 L 1625,990 L 1645,930 L 1630,940 L 1660,860 L 1680,940 L 1665,950 L 1685,1000 L 1670,1010 L 1690,1080 Z" 
          fill="#0d0d0d" opacity="0.85"/>
    <path d="M 1780,1080 L 1800,950 L 1780,960 L 1800,900 L 1780,910 L 1810,820 L 1830,900 L 1820,910 L 1840,950 L 1820,960 L 1840,1080 Z" 
          fill="#0d0d0d" opacity="0.9"/>
  </g>

  <script type="application/ecmascript"><![CDATA[
    (function() {
      const starsG = document.getElementById('stars');
      const shootingStarsG = document.getElementById('shooting-stars');
      const STAR_COUNT = 600;
      
      // Create static stars
      for (let i = 0; i < STAR_COUNT; i++) {
        const cx = Math.random() * 1920;
        const cy = Math.random() * 650;
        const r = Math.random() * 0.8 + 0.2;
        const baseOpacity = 0.3 + Math.random() * 0.6;

        const star = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        star.setAttribute('cx', cx);
        star.setAttribute('cy', cy);
        star.setAttribute('r', r);
        star.setAttribute('fill', '#ff9933');
        star.setAttribute('opacity', baseOpacity);

        const twinkle = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
        twinkle.setAttribute('attributeName', 'opacity');
        twinkle.setAttribute('values', `${Math.max(0.1, baseOpacity - 0.4)};${Math.min(1, baseOpacity + 0.5)};${Math.max(0.1, baseOpacity - 0.4)}`);
        twinkle.setAttribute('dur', (0.6 + Math.random() * 2) + 's');
        twinkle.setAttribute('begin', (Math.random() * 3) + 's');
        twinkle.setAttribute('repeatCount', 'indefinite');
        star.appendChild(twinkle);

        starsG.appendChild(star);
      }

      // Create shooting star function
      function createShootingStar() {
        if (!shootingStarsG) return;

        const startX = -100;
        const startY = 100 + Math.random() * 300;
        const endX = 2000;
        const endY = startY + 100 + Math.random() * 100;
        const duration = 1.5 + Math.random() * 1;

        // Calculate the direction vector for the tail
        const dx = endX - startX;
        const dy = endY - startY;
        const distance = Math.sqrt(dx * dx + dy * dy);
        const tailLength = 80;
        
        // Tail should point opposite to motion direction
        const tailDx = -(dx / distance) * tailLength;
        const tailDy = -(dy / distance) * tailLength;

        const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
        
        // Star head
        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute('cx', startX);
        circle.setAttribute('cy', startY);
        circle.setAttribute('r', '3');
        circle.setAttribute('fill', '#ffdd99');
        circle.setAttribute('opacity', '0');
        
        // Trail
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', startX);
        line.setAttribute('y1', startY);
        line.setAttribute('x2', startX + tailDx);
        line.setAttribute('y2', startY + tailDy);
        line.setAttribute('stroke', 'url(#shooting-star-grad)');
        line.setAttribute('stroke-width', '3');
        line.setAttribute('stroke-linecap', 'round');
        line.setAttribute('opacity', '0');

        g.appendChild(circle);
        g.appendChild(line);
        shootingStarsG.appendChild(g);

        // Animate position and opacity
        let startTime = null;
        function animate(timestamp) {
          if (!startTime) startTime = timestamp;
          const progress = (timestamp - startTime) / (duration * 1000);

          if (progress < 1) {
            const currentX = startX + (endX - startX) * progress;
            const currentY = startY + (endY - startY) * progress;
            
            circle.setAttribute('cx', currentX);
            circle.setAttribute('cy', currentY);
            line.setAttribute('x1', currentX);
            line.setAttribute('y1', currentY);
            line.setAttribute('x2', currentX + tailDx);
            line.setAttribute('y2', currentY + tailDy);

            // Fade in and out
            let opacity = 0;
            if (progress < 0.1) {
              opacity = progress / 0.1;
            } else if (progress > 0.9) {
              opacity = (1 - progress) / 0.1;
            } else {
              opacity = 1;
            }
            
            circle.setAttribute('opacity', opacity);
            line.setAttribute('opacity', opacity);

            requestAnimationFrame(animate);
          } else {
            try { shootingStarsG.removeChild(g); } catch(e){}
          }
        }
        
        requestAnimationFrame(animate);
      }

      // Create shooting stars at intervals
      setInterval(createShootingStar, 10000);
      setTimeout(createShootingStar, 100); // First one after 1 second
    })();
  ]]></script>
</svg>
